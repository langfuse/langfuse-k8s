replicaCount: 1

image:
  repository: langfuse/langfuse
  pullPolicy: Always
  tag: 3

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

langfuse:
  port: 3000
  nodeEnv: production
  next:
    healthcheckBasePath: ""
  nextauth:
    url: http://localhost:3000
    secret: changeme
  salt: changeme
  licenseKey: ""
  telemetryEnabled: True
  nextPublicSignUpDisabled: False
  enableExperimentalFeatures: False
  extraContainers: []
  extraVolumes: []
  extraInitContainers: []
  extraVolumeMounts: []

  web:
    resources: {}
    hpa:
      enabled: false
      minReplicas: 1
      maxReplicas: 2
      targetCPUUtilizationPercentage: 50
    vpa:
      enabled: false
      controlledResources: []
      maxAllowed: {}
      minAllowed: {}
      updatePolicy:
        updateMode: Auto
  worker:
    resources: {}
    hpa:
      enabled: false
      minReplicas: 1
      maxReplicas: 2
      targetCPUUtilizationPercentage: 50
    vpa:
      enabled: false
      controlledResources: []
      maxAllowed: {}
      minAllowed: {}
      updatePolicy:
        updateMode: Auto

  additionalEnv:

serviceAccount:
  create: true
  annotations: {}
  name: ""

podAnnotations: {}

podSecurityContext: {}

securityContext: {}

service:
  type: ClusterIP
  port: 3000
  nodePort: ""

ingress:
  enabled: false

resources: {}

nodeSelector: {}

tolerations: []

affinity: {}

postgresql:
  deploy: true
  host: langfuse-postgresql
  auth:
    username: postgres
    password: postgres
    database: postgres_langfuse
  architecture: standalone
  primary:
    service:
      ports:
        postgresql: 5432

clickhouse:
  deploy: true
  host: langfuse-clickhouse
  shards: 1 # Fixed. Langfuse does not support multi-shard clusters.
  replicaCount: 3
  resourcesPreset: 2xlarge
  service:
    ports:
      http: 8123
      tcp: 9000
  auth:
    username: default
    password: changeme

valkey:
  deploy: true
  host: langfuse-valkey-primary
  database: 0
  architecture: standalone
  primary:
    service:
      ports:
        valkey: 6379
    extraFlags:
      - "--maxmemory-policy noeviction"
  auth:
    password: changeme

minio:
  deploy: true
  host: langfuse-minio
  defaultBuckets: 'langfuse'
  service:
    ports:
      api: 9000
  auth:
    rootUser: 'minio'
    rootPassword: 'miniosecret'

extraManifests: []
